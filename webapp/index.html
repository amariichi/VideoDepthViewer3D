<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/vite.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>VideoDepthViewer3D</title>
</head>

<body class="bg-tropical-bg text-tropical-text min-h-screen flex flex-col p-4 md:p-6 gap-6">
  <div id="app" class="w-full max-w-[1920px] mx-auto flex flex-col gap-6">

    <!-- Header -->
    <header class="flex justify-between items-end border-b border-tropical-muted/20 pb-4">
      <div>
        <h1 class="text-2xl md:text-3xl font-bold text-tropical-primary tracking-tight">VideoDepthViewer3D</h1>
        <p class="text-sm text-tropical-muted mt-1">Real-time Monocular Depth Estimation</p>
      </div>
      <span id="status-text" class="text-sm font-medium text-tropical-accent">Idle</span>
    </header>

    <!-- Control Bar -->
    <section class="flex flex-wrap items-center gap-4 py-1">
      <!-- Primary Actions -->
      <label
        class="cursor-pointer bg-tropical-primary text-white px-5 py-2.5 rounded-lg shadow hover:bg-opacity-90 transition-all flex items-center gap-2 font-medium">
        <span>ðŸ“‚ Open Video</span>
        <input id="video-file" type="file" accept="video/mp4" class="hidden" />
      </label>

      <button id="btn-sbs"
        class="bg-tropical-pink text-white px-6 py-2.5 rounded-lg shadow-lg font-bold hover:bg-opacity-90 transition-all transform hover:scale-105 active:scale-95">
        SBS Stereo (0DOF)
      </button>

      <!-- VR / Experimental Group (Next to SBS) -->
      <div class="flex items-center gap-3 ml-2 pl-4 border-l-2 border-tropical-muted/20">
        <button id="btn-vr"
          class="border border-tropical-muted text-tropical-muted px-3 py-1.5 rounded hover:bg-tropical-muted hover:text-white transition-colors text-sm">
          Start VR (RawXR)
        </button>

        <label
          class="flex items-center gap-2 cursor-pointer hover:text-tropical-text transition-colors text-sm text-tropical-muted">
          <input id="chk-hints" type="checkbox" class="accent-tropical-primary" />
          <span>Show VR Hints</span>
        </label>

        <span
          class="font-semibold text-xs uppercase tracking-wider text-tropical-muted/70 bg-tropical-muted/10 px-2 py-1 rounded">(Experimental)</span>
      </div>
    </section>

    <!-- Main Content Area -->
    <section class="flex flex-col lg:flex-row gap-6 h-[75vh]">

      <!-- Left Column: Video + GUI -->
      <div class="flex flex-col gap-4 flex-1 min-w-[320px] max-w-[500px]">
        <!-- Video Source -->
        <div id="video-container"
          class="w-full aspect-video bg-orange-50 rounded-xl overflow-hidden shadow-md border border-orange-100 relative">
          <!-- Video element will be injected here by JS -->
        </div>

        <!-- GUI Container (Vertical Stack) -->
        <div
          class="flex-1 bg-orange-50/50 rounded-xl p-4 shadow-inner border border-orange-100 overflow-y-auto flex flex-col gap-4">
          <h3 class="text-sm font-bold text-tropical-muted uppercase tracking-wider mb-2">Controls & Telemetry</h3>
          <div id="gui-depth" class="w-full"></div>
          <div id="gui-perf" class="w-full"></div>
        </div>
      </div>

      <!-- Right Column: WebGL Canvas -->
      <div id="canvas-container"
        class="flex-[2] bg-teal-50/30 rounded-xl overflow-hidden shadow-xl border border-teal-100 relative">
        <!-- Canvas will be injected here by JS -->
      </div>

    </section>

  </div>
  <script type="module" src="/src/main.ts"></script>
</body>

</html>